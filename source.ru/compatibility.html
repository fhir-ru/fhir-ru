<!DOCTYPE HTML>


[%settitle Межверсионная совместимость%]
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
[%file newheader%]
</head>
<body>
[%file newnavbar%]

<div class="col-9">

<h2>Межверсионная совместимость</h2>

<a name="version"> </a>
<h2>Межверсионная совместимость</h2>
<blockquote>
<p>
Следующие правила будут применяться к ресурсам, профилям и другому содержимому в рамках спецификации, как только соответствующие её разделы получат статус <a href="timeline.html#normative">нормативных</a>.
Эти правила гарантируют, что реализации могут работать с FHIR-интерфейсами и благополучно обрабатывать содержимое FHIR-ресурсов при обмене данными между приложениями, использующими различные версии FHIR.
</p>
<p>
Во время периода пробного использования спецификации (и как только элементы, остающиеся в статусе черновика и проекта, получат нормативный статус), могут иметь место изменения на основании проблем, обнаруженных во время досрочной реализации спецификации. Этим изменениям нет надобности соблюдать правила, перечисленные ниже.
</p>
</blockquote>

<h3>Идентификации версии</h3>
<p>
У содержимого ресурса нет явного обозначения версии. FHIR придерживается подхода DICOM к управлению версиями, в котором содержимое может благополучно обрабатываться инстанциями вне зависимости от версии. При работе с содержимым уровня DSTU приложения могут использовать <a href="resource.html#tags">теги ресурсов</a> для облегчения управления им в период пробного использования.
</p>
<p>
Уровень соответствия (<a href="conformance.html">Соответствие</a> и <a href="profile.html">Профиль</a>) имеет обязательные свойства, декларирующие версию спецификации FHIR, которые могут использоваться для определения того, какую версию FHIR использует реализация, а также для помощи в валидации.
</p>

<h3>Частота изменений</h3>
<p>
Новые версии спецификации FHIR будут выходить регулярно в соответствии с 
<a href="timelines.html">графиком публикации FHIR</a>. Новые версии спецификации будут включать дополнительное содержимое уровня "черновик" и "пробное использование", наряду с переводом прежнего содержимого уровня "пробное использование" на нормативный.
Когда содержимое получит статус нормативного, ожидается, что изменения станут нечастыми. Это следует из двух соображений:
</p>
<ol>
  <li>Спецификация основывается на тех возможностях, которые, предполагается, будут поддерживаться большинством систем. Чтобы ввести новые возможности, потребуется отразить повсеместное изменение во всемирной среде реализации здравоохранения.</li>
  <li>Если сообщество реализации уже нашло общий стандартный подход к решению проблем реализации FHIR (например использование определенного расширения), FHIR не будет привносить путаницу в сообщество реализации введением противоречивого механизма решения этой проблемы в основу спецификации.</li>
</ol>

<h3>Совместимость с будущими версиями</h3>
<p>
В типовом сценарии использования может потребоваться одновременное существование смешанных версий, поэтому приложениям СЛЕДУЕТ игнорировать те элементы, которые они не могут распознать, если только это не modifierExtensions.
Однако в контексте здравоохранения большинство поставщиков приложений не желают рассматривать этот подход из соображений клинического риска или технических ограничений в их программном обеспечении (например обработка данных на основе схемы).
Приложениям не требуется игнорировать неизвестные элементы, однако СЛЕДУЕТ декларировать, будут ли они это делать, в <a href="conformance.html">заявлениях о соответствии</a>.
</p>
<p>
Не распознанные параметры поиска всегда ДОЛЖНЫ игнорироваться. (Параметры поиска, поддерживаемые в запросе, отражаются в рамках результата поиска, поэтому игнорирование непредвиденных параметров поиска не представляет опасности.)
</p>
<p>
На попытки выполнить HTTP-операции на непредвиденных URL-адресах СЛЕДУЕТ отвечать соответствующим кодом ошибки. <!-- TODO: Grahame - should this be more explicit? -->
</p>
<!-- Todo - behavior for operations -->


<h3>Допустимые изменения нормативного содержимого</h3>
<table>
  <tbody>
    <tr>
      <th>Категория</th><th>Допустимые изменения</th>
    </tr>
    <tr>
      <td>Элементы</td>
      <td>
      Став нормативным, последующие версии данной спецификации могут вводить новые элементы и/или содержимое (например XML-атрибуты и т. п.) в любом месте комплекта, ресурса и/или структуры типа данных. Однако имена, пути и значение старых элементов данных меняться не будут.
	  Это включает отсутствие изменений имен ресурсов и имен, присвоенных срезам и другим элементам в профилях.
      </td>
    </tr>
    <tr>
      <td>Кардинальное число</td>
      <td>
	  Нижний предел кардинального числа элементов меняться не будет. Верхний предел кардинального числа элементов может быть изменен с 1 до * только в том случае, если все повторные элементы, за исключением первого, можно безопасно игнорировать. (Это может означать, что повторяющимся элементам присвоен  некоторый порядок, или что нет никакого предпочтения, какой элемент будет оставлен.) Системам следует придерживаться правил, описанных выше касательно непредвиденных элементов.
      </td>
    </tr>
    <tr>
      <td>Описание</td>
      <td>
      Описательная информация о ресурсе - короткие названия, определения, примечания к использованию, альтернативные имена, примеры, логическое обоснование, карты соответствия и т. д. могут обновляться или исправляться для внесения дополнительных разъяснений или инструкций, но не таким образом, чтобы сделать недействительной интерпретацию предыдущего задокументированного использования элемента. (Это не препятствует исправлению очевидных ошибок.)
      </td>  
    </tr>
    <tr>
      <td>Наборы значений</td>
      <td>
        <p>
		Определения наборов значений, помеченных как "неизменяемые" ("immutable"), никогда не изменятся. Расширения неизменяемых наборов значений, тем не менее, могут меняться, если не заявлена "stable date" и набор значений не сужает кодовую систему и/или ссылки на наборы значений определенной версией, если кодовая система(ы) или набор(ы) значений меняются.
        <!-- The definition of any value set that is marked as "immutable" will never change.  The expansions for
        immutable value sets may still change if no "stable date" is declared and the value set does not
        restrict code system and/or value set references to specific versions if the referenced code system(s)
        or value set(s) change. -->
        </p>
        <p>
        Для неизменяемых наборов значений: <!-- For non-immutable value sets: -->
        </p>
        <ul>
          <li>Value sets with an enumerated list of codes and having a 'fixed' binding may have additional codes introduced but will never have codes removed.</li>
          <li>Value sets making use of filters may have filters loosened or tightened to accomodate changes to
          underlying code systems.  StableDates and referenced code system and value set versions may be adjusted
          to point to newer versions.</li>
          <li>Definitions and display values for codes may change, but only in a manner that would not change 
          the reasonable interpretation of data captured using the previous definitions or names.</li>
          <li>Abstract codes may be made concrete.  Concrete codes will not be made abstract.</li>
        </ul>
        <p>
		Как в постоянных, так и непостоянных наборах значений могут быть объявлены дополнительные наименования.
       <!--  For both immutable and non-immutable value sets, additional designations may be declared. -->
        </p>
      </td>
    </tr>
    <tr>
      <td>Терминологические привязки</td>
      <td>
	  Фиксированные привязки будут оставаться фиксированными и продолжать указывать на те же самые наборы значений. Если это ссылка на определенную версию, она не будет меняться.
	  Привязки-примеры и неполные привязки могут поменяться и начать указывать на другие наборы значений.
	  Привязки-примеры могут быть заменены на неполные привязки.
      <!-- Fixed bindings will remain fixed and will continue to point to the same value set.  If the reference is
      version-specific, it will not change.
      Example bindings and Incomplete bindings may change to point to distinct value sets.  Example bindings
      may be replaced with Incomplete bindings. -->
      </td>
    </tr>
    <tr>
      <td>Типы данных</td>
      <td>
	  Типы данных не будут удаляться или модифицироваться. Могут вводиться новые типы данных. Типы данных, задекларированные в существующих элементах, не будут удаляться или модифицироваться.
	  Дополнительные типы данных могут быть добавлены тем элементам, которые и так уже представлены в виде нескольких типов данных на выбор, но только если эти элементы являются необязательными (минимальное кардинальное число = 0).
      <!-- Data types will not be removed or changed.  New data types may be introduced.  Types declared on existing elements will not be removed or changed.
      Additional data types may be added to elements which are already expressed as a choice of data types only if those elements are optional (minimum cardinality = 0). -->
      </td>
    </tr>
    <tr>
      <td>Ограничение значений</td>
      <td>
	  Типы данных не будут добавляться, удаляться или модифицироваться. Инварианты, регулярные выражения, фиксированные значения и шаблоны не будут добавляться, удаляться или модифицироваться.
      <!-- Data types will not be added, removed or changed.  Invariants, regular expressions, fixed values and patterns will not be added, removed or changed.  -->     
      </td>
    </tr>
    <tr>
      <td>Флаги</td>
      <td>
        Флаги <i>Is Modifier</i> и <i>Is Summary</i> не будут меняться.  Флаг <i>Must Support</i> может поменять значение на истинное, но не может быть удален.
      </td>
    </tr>
    <tr>
      <td>Разделение на слои (Slicing)</td>
      <td>
	  Правила разделения на слои и характеристики агрегирования не будут меняться.
      <!-- Slicing rules and aggregation characteristics will not be changed. -->
      </td>
    </tr>
    <tr>
      <td>Параметры поиска</td>
      <td>Параметры поиска могут добавляться, но не удаляться или переименовываться. У существующих параметров не будет меняться тип и путь, а их описание не будет переделываться таким образом, чтобы сделать недопустимым корректное поведение существующих систем (за исключением исправления очевидных ошибок). <!-- Search criteria may be added but not removed or renamed.  Existing criteria will not have their type or path changed or
      have their description altered in any way that would invalidate the reasonable behavior of existing systems (with the exception of
      correcting obvious errors). --></td>
    </tr>
    <tr>
      <td>Операции</td>    
      <td>
	  Могут определяться новые операции, но старые не могут быть удалены или переименованы. Существующие параметры не будут удаляться или переименовываться, также не может меняться их тип и минимальное кардинальное число. Максимальное кардинальное число может быть изменено с 1 на *. (Системам следует игнорировать неожиданные повторы.)
      <!-- New operations may be defined but operations may not be removed or renamed.  Existing parameters will not be removed or renamed, nor may their type
      or lower cardinality be changed.  Upper cardinality may be changed from 1 to *.  (Systems should ignore unexpected repetitions.)
      Additional optional parameters may be introduced. -->
      </td>
    </tr>
    <tr>
      <td>Restful-интерфейс</td>
      <td>
	  Существующие точки взаимодействия не будут переименовываться или удаляться, также их ожидаемое поведение не изменится таким образом, чтобы сделать корректные системы, спроектированные в соответствии с предыдущими версиями, неспособными к взаимодействию. Могут вводиться новые точки взаимодействия.
      <!-- Existing endpoints will not be renamed or removed, nor have their expected behavior changed in a manner that would cause reasonable systems designed
      against prior versions to be non-interoperable.  Additional endpoints may be introduced. -->
      </td>
    </tr>
    <tr>
      <td>Определение профилей и расширений</td>
      <td>
	  Структуры профилей, определения расширений и определения параметров поиска не будут удаляться или менять свои URI. Могут вводиться новые структуры профилей, определения расширений и определения параметров поиска. У профилей может меняться статус на "устаревший" ("retired"). Профили, на которые ссылаются элементы данных структур или типов данных, могут быть заменены ссылкой на другой профиль, "совместимый" с предыдущим профилем, на который была ссылка, в соответствии с этими правилами обратной и будущей совместимости.
      <!-- Profile structure, extension definitions and search criteria definitions will not be removed or have their 
      URIs changed.  New profile structures, extension definitions and search criteria definitions may be
      introduced.  Profiles may have their statuses changed to "retired".  Profiles referenced by data elements
      for structures or data types may be replaced
      with a reference to a distinct profile that is "compatible" with the previously referenced profile according
      to these forward and backward compatibility rules. -->
      </td>
    </tr>
  </tbody>
</table>
<p>
&nbsp;
</p>
<p>
Дополнительное обсуждение вопросов по управлению версиями можно найти здесь:
<a href="http://wiki.hl7.org/index.php?title=FHIR_interversion_compatibility">http://wiki.hl7.org/index.php?title=FHIR_interversion_compatibility</a>.
</p>

</div>

[%file newfooter%]
</body>
</html>